require=function n(r,a,s){function d(e,t){if(!a[e]){if(!r[e]){var i="function"==typeof require&&require;if(!t&&i)return i(e,!0);if(l)return l(e,!0);var o=new Error("Cannot find module '"+e+"'");throw o.code="MODULE_NOT_FOUND",o}var c=a[e]={exports:{}};r[e][0].call(c.exports,function(t){return d(r[e][1][t]||t)},c,c.exports,n,r,a,s)}return a[e].exports}for(var l="function"==typeof require&&require,t=0;t<s.length;t++)d(s[t]);return d}({DiCi:[function(t,e,i){"use strict";cc._RF.push(e,"67cfbVsa31LbJCZFVDaDo13","DiCi");var o=t("Player");cc.Class({extends:cc.Component,properties:{deathAudio:{default:null,url:cc.AudioClip}},setInputControl:function(){var o=this,t={event:cc.EventListener.TOUCH_ONE_BY_ONE,onTouchBegan:function(t,e){var i=cc.moveBy(.2,cc.p(0,140));return o.node.runAction(i),!0}};cc.eventManager.addListener(t,o.node)},onLoad:function(){this.setInputControl()},nodeBox:function(){return this.node.getBoundingBoxToWorld()},update:function(t){var e=cc.find("Canvas/normal").getComponent(o);cc.rectIntersectsRect(e.node.getBoundingBoxToWorld(),this.nodeBox())&&cc.director.loadScene("End")}}),cc._RF.pop()},{Player:"Player"}],Main:[function(t,e,i){"use strict";cc._RF.push(e,"8ce4f8hZ1NLaZ9CbOtE8LIC","Main"),cc.Class({extends:cc.Component,properties:{player:{default:null,type:cc.Node},dici:{default:null,type:cc.Prefab},timeLabel:{default:null,type:cc.Label},ScoreLabel:{default:null,type:cc.Label},BG_music:{default:null,url:cc.AudioClip},jumpAudio:{default:null,url:cc.AudioClip},playerJumpHeight:0,wallWidth:80,diciCount:0,dici_duration:0,gameTime:60,Score:0,player_offset:10},playerMoveRight:function(){var t=cc.moveTo(.2,cc.p(this.node.width/2-this.wallWidth+this.player_offset,this.player.getPositionY())),e=cc.moveTo(.1,cc.p(this.node.width/2-this.wallWidth-30,this.player.getPositionY())),i=cc.moveTo(.1,cc.p(this.node.width/2-this.wallWidth+this.player_offset,this.player.getPositionY())),o=cc.sequence(e,i);180==this.player.rotationY?this.player.runAction(o):this.player.runAction(t),this.player.rotationY=180},playerMoveLeft:function(){var t=cc.moveTo(.2,cc.p(-this.node.width/2+this.wallWidth-this.player_offset,this.player.getPositionY())),e=cc.moveTo(.1,cc.p(-this.node.width/2+this.wallWidth+30,this.player.getPositionY())),i=cc.moveTo(.1,cc.p(-this.node.width/2+this.wallWidth-this.player_offset,this.player.getPositionY())),o=cc.sequence(e,i);0==this.player.rotationY?this.player.runAction(o):this.player.runAction(t),this.player.rotationY=0},setInputControl:function(){var o=this,t={event:cc.EventListener.TOUCH_ONE_BY_ONE,onTouchBegan:function(t,e){var i=e.getCurrentTarget().convertToNodeSpace(t.getLocation());return cc.log(i.x),i.x>o.node.width/2?o.playerMoveRight():o.playerMoveLeft(),o.CreateDiCi(),o.Score+=1,cc.sys.localStorage.setItem("score",o.Score),o.ScoreLabel.string=o.Score,!0},onTouchMoved:function(t,e){},onTouchEnded:function(t,e){}};cc.eventManager.addListener(t,o.node)},CreateDiCi:function(){this.diciCount+=1;var t=cc.instantiate(this.dici);this.node.addChild(t);var e=cc.random0To1();t.rotationY=.5<=e?0:180,t.setPosition(this.diciPoition(e))},diciPoition:function(t){var e=0,i=0;return e=.5<=t?this.node.width/2-this.wallWidth:-this.node.width/2+this.wallWidth,i=this.diciCount<=8?this.node.height/2-this.dici_duration*this.diciCount-this.dici_duration:this.node.height/2-8*this.dici_duration-this.dici_duration,cc.p(e,i)},onLoad:function(){this.diciCount=0,cc.director.preloadScene("End"),this.setInputControl(),this.player.setPosition(-this.node.width/2+this.wallWidth-this.player_offset,this.node.height/2-180);for(var t=0;t<8;t++)this.CreateDiCi();this.schedule(function(){this.gameTime--,this.timeLabel.string="Time:"+this.gameTime,this.gameTime<=0&&cc.director.loadScene("End")},1)}}),cc._RF.pop()},{}],Player:[function(t,e,i){"use strict";cc._RF.push(e,"4c68dxMDMtGVJb5TbKaG8Cz","Player"),cc.Class({extends:cc.Component,properties:{},start:function(){}}),cc._RF.pop()},{}],Start:[function(t,e,i){"use strict";cc._RF.push(e,"b1b64KPxNRByqwBVeMU32yz","Start"),cc.Class({extends:cc.Component,properties:{start_btn:{default:null,type:cc.Node}},onLoad:function(){cc.director.preloadScene("Game");var t=cc.scaleTo(.8,.9),e=cc.scaleTo(.8,1),i=cc.sequence(t,e),o=cc.repeatForever(i);this.start_btn.runAction(o),this.start_btn.on("touchstart",function(){cc.director.loadScene("Game")})},start:function(){}}),cc._RF.pop()},{}],end:[function(t,e,i){"use strict";cc._RF.push(e,"cf787iGHxtM6YNAgQFEygTV","end"),cc.Class({extends:cc.Component,properties:{button:{default:null,type:cc.Node},scoreLabel:{default:null,type:cc.Label}},onLoad:function(){var t=cc.sys.localStorage.getItem("score");cc.director.preloadScene("Game"),this.button.on("touchstart",function(){cc.director.loadScene("Game")}),this.scoreLabel.string="最终得分:"+t}}),cc._RF.pop()},{}]},{},["DiCi","Main","Player","Start","end"]);
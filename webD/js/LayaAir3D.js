function onUIComplete(){Laya.loader.create([{url:"res/YJD/YJD.lh"},{url:"res/T_fire/JTL.lh"}],Laya.Handler.create(this,on3DModelComplete)),this.control=new startUI,Laya.stage.addChild(this.control),this.control.btn_Jian.on(Laya.Event.CLICK,this,onBtn_JianJie),this.control.btn_Mo.on(Laya.Event.CLICK,this,onBtn_MoXing),this.control.btn_Chai.on(Laya.Event.CLICK,this,onBtn_ChaiJie),this.control.btn_LiuCheng.on(Laya.Event.CLICK,this,onBtn_liuCheng),Laya.stage.on(Laya.Event.MOUSE_WHEEL,this,this.mouseWhell),this.is_Chai=!1,this.is_Huo=!1,this.is_Yan=!1}function on3DModelComplete(){this.scene=new Laya.Scene,this.scene.ambientColor=new Laya.Vector3(1,1,1),Laya.stage.addChild(this.scene),Laya.stage.setChildIndex(this.scene,0),this.cameraRoot=scene.addChild(new Laya.Sprite3D(0,0,0)),cameraRoot.addComponent(CameraMoveScript),this.camera=cameraRoot.addChild(new Laya.Camera(0,.1,1e3)),camera.transform.position=new Laya.Vector3(0,0,10),camera.transform.rotate(new Laya.Vector3(0,0,0),!0,!1),camera.fiedOfView=30,this.sprite3D=Laya.loader.getRes("res/YJD/YJD.lh"),this.scene.addChild(sprite3D),this.ani=this.sprite3D.getChildAt(0).getComponentByType(Laya.Animator),this.partic=Laya.loader.getRes("res/T_fire/JTL.lh"),this.partic.transform.position=new Laya.Vector3(0,.2,0),this.is_Fire=!1}function onBtn_JianJie(){1==this.control.img_Jian.visible?this.control.img_Jian.visible=!1:this.control.img_Jian.visible=!0}function onBtn_MoXing(){0==this.is_Fire?(this.scene.addChild(partic),this.is_Fire=!0):(this.scene.removeChild(partic),this.is_Fire=!1)}function onBtn_ChaiJie(){0==this.is_Chai?(this.ani.play("take0"),this.is_Chai=!0):(this.ani.play("take1"),this.is_Chai=!1)}function onBtn_liuCheng(){Laya.stage.removeChild(this.scene),Laya.stage.removeChild(this.control),SceneLiuCheng()}function SceneLiuCheng(){this.LiuCheng=new LiuChengUI,Laya.stage.addChild(LiuCheng),this.LiuCheng.btn_ZhuShui.on(Laya.Event.CLICK,this,onBtn_ZhuShui),this.LiuCheng.btn_DianHuo.on(Laya.Event.CLICK,this,onBtn_DianHuo),this.LiuCheng.btn_PaiYan.on(Laya.Event.CLICK,this,onBtn_PaiYan),this.LiuCheng.btn_3D.on(Laya.Event.CLICK,this,onBtn_3D),this.is_Zhu=!1}function onBtn_ZhuShui(){0==this.is_Zhu?(Laya.Tween.to(this.LiuCheng.ani_Zhu,{y:740},4e3,Laya.Ease.elasticcInOut,null,0),Laya.Tween.to(this.LiuCheng.img_Zhu,{y:-124},4e3,Laya.Ease.elasticcInOut,null,0),Laya.Tween.to(this.LiuCheng.ani_Water,{y:650},3e3,Laya.Ease.elasticcInOut,null,1e3),Laya.Tween.to(this.LiuCheng.img_mask,{y:46},3e3,Laya.Ease.elasticcInOut,null,1e3),this.is_Zhu=!0):(this.LiuCheng.ani_Zhu.pos(220,385),this.LiuCheng.img_Zhu.pos(93,231),this.LiuCheng.ani_Water.pos(200,750),this.LiuCheng.img_mask.pos(122,-51),this.is_Zhu=!1),console.log("注水了")}function onBtn_DianHuo(){0==this.is_Huo?(this.LiuCheng.Ani_Huo.visible=!0,this.is_Huo=!0):(this.LiuCheng.Ani_Huo.visible=!1,this.is_Huo=!1)}function onBtn_PaiYan(){0==this.is_Yan?(this.LiuCheng.Ani_Yan.play(),this.LiuCheng.Ani_Yan.interval=80,this.is_Yan=!0):(this.LiuCheng.Ani_Yan.clear(),this.is_Yan=!1)}function onBtn_3D(){Laya.stage.removeChild(this.LiuCheng),Laya.stage.addChild(this.scene),Laya.stage.addChild(this.control)}Laya3D.init(640,1136,0),Laya.stage.scaleMode=Laya.Stage.SCALE_EXACTFIT,Laya.stage.screeMode=Laya.Stage.SCREEN_NONE,Laya.Stat.show(),Laya.loader.load(["res/atlas/comp.atlas","res/atlas/火.atlas","res/atlas/水.atlas"],Laya.Handler.create(this,onUIComplete)),Laya.SoundManager.playMusic("res/music/bg.mp3",0);